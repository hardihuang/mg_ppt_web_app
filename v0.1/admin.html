<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="js/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="./css/style.css">

    <title>MG PowerPoint page</title>
  </head>
  <body>
      <nav class="navbar navbar-expand-lg navbar-light border-bottom pl-3" style="height:60px; background-color: #e3f2fd;" >
          <a class="navbar-brand" href="index.html">
              <img src="./img/logo.png" height="30" alt="">
            </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse " id="navbarTogglerDemo02">
          <ul class="navbar-nav mr-auto mt-2 mt-lg-0 font-weight-bolder">
            <li class="nav-item ">
              <a class="nav-link" href="#">启蒙</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">探索</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">创想</a>
            </li>
          </ul>
          
          <button type="button" class="btn btn-outline-primary mr-3"   data-toggle="tooltip" data-placement="bottom" title="此按钮仅在开发版本中才有">
            <a href="./student.html" style="text-decoration:none;">切换至学生模式</a>
          </button> 
          <span class="mr-1">
            <img  src="./img/avatar/dumbledore.png" alt="..." style="width:60px; border-style:solid; border-width:medium;" class="rounded-circle mr-3 border-secondary" >Albus Dumbledore (管理员)
          </span>
            
        </div>
      </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="p-3 col-8  float-left" >
          <div id="carouselMain" class="carousel slide carousel-fade border " data-interval="false" data-ride="carousel">
            <ol class="carousel-indicators">
              <li data-target="#carouselMain" data-slide-to="0" class="active"></li>
              <li data-target="#carouselMain" data-slide-to="1"></li>
              <li data-target="#carouselMain" data-slide-to="3"></li>
              <li data-target="#carouselMain" data-slide-to="4"></li>
              <li data-target="#carouselMain" data-slide-to="5"></li>
              <li data-target="#carouselMain" data-slide-to="6"></li>
              <li data-target="#carouselMain" data-slide-to="7"></li>
              <li data-target="#carouselMain" data-slide-to="8"></li>
              <li data-target="#carouselMain" data-slide-to="9"></li>
              <li data-target="#carouselMain" data-slide-to="10"></li>
              <li data-target="#carouselMain" data-slide-to="11"></li>
              <li data-target="#carouselMain" data-slide-to="12"></li>
            </ol><!--indicator end-->
            <div class="carousel-inner">
              
              <div class="carousel-item active" >
                <img src="img/slides/Slide1.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide2.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide3.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide4.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide5.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide6.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide7.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide8.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide9.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide10.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide11.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide12.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide13.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide14.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide15.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide16.JPG" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="img/slides/Slide17.JPG" class="d-block w-100" alt="...">
              </div>

            </div>
            <a class="carousel-control-prev" href="#carouselMain" role="button" data-slide="prev">
              <span class="chevron-left" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselMain" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
        </div>
        <div class="col-4 float-right">
          <div class="card mb-3 mt-3">
            <div class="card-header font-weight-bolder">下一张幻灯片 Next Slide</div>
            <div class="card-body">
                <div id="carouselNextSlide" class="carousel slide" data-interval="false"  data-ride="carousel">
                  
                    <div class="carousel-inner">
                      <div class="carousel-item " >
                        <img src="img/slides/Slide1.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item active">
                        <img src="img/slides/Slide2.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide3.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide4.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide5.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide6.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide7.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide8.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide9.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide10.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide11.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide12.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide13.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide14.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide15.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide16.JPG" class="d-block w-100" alt="...">
                      </div>
                      <div class="carousel-item">
                        <img src="img/slides/Slide17.JPG" class="d-block w-100" alt="...">
                      </div>
                  </div>
                </div><!--end of the slides-->
            </div>
          </div>
          <div class="card mb-3">
            <div class="card-header font-weight-bolder">控制 Control</div>
            <div class="card-body" style="padding-top: 10px; padding-bottom: 10px; padding-left: 10px;">
                <br>
                <p>PPT放映模式：</p>
                <div>
                    <button type="button" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="学生ppt被老师操控，无法自主翻页">
                      同步模式
                    </button>
                    <button type="button" class="btn btn-secondary" data-toggle="tooltip" data-placement="top" title="学生只有权限看老师展示过的页面">
                      释放模式
                    </button>
                    <button type="button" class="btn btn-warning" data-toggle="tooltip" data-placement="top" title="老师按照进度条，开放一个阶段的所有ppt，学生可在此范围内随意浏览" >
                      里程碑模式
                    </button>
                    <button type="button" class="btn btn-info" data-toggle="tooltip" data-placement="top" title="学生可自由浏览所有页面">
                      自由模式
                    </button>
                </div>
                <div>
                <br>
                <p>操作:</p>
                <div>
                    <button type="button" class="btn btn-danger"  data-toggle="tooltip" data-placement="top" title="点击按钮后，上课计时开始，进度条开始走">
                      上课
                    </button>
                    <button type="button" class="btn btn-success" data-toggle="tooltip" data-placement="top" title="点击下课后，结束本次课程，本节课也会加入到参与学生的已学过列表当中">
                      下课
                    </button>
                    <button type="button" class="btn btn-dark" data-toggle="tooltip" data-placement="top" title="所有学生ppt变黑，注意力集中在老师身上">
                      黑屏
                    </button>
                    <button type="button" class="btn btn-info" data-toggle="tooltip" data-placement="top" title="进入做题模式，通过测试才能继续做别的">
                      小测试
                    </button>
                </div>
            </div>
          </div>
        </div>
      </div><!--end of row-->
    </div><!--end of container-->

    <div class="progress fixed-bottom font-weight-bolder border border-secondary" style="height: 25px; ">
      <div class="progress-bar progress-bar-striped text-dark" role="progressbar" style="width: 10%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100">引入</div>
      <div class="progress-bar progress-bar-striped bg-warning text-dark" role="progressbar" style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100">讲解知识点</div>
      <div class="progress-bar progress-bar-striped bg-info text-dark" role="progressbar" style="width: 50%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">拼装制作</div>
      <div class="progress-bar progress-bar-striped bg-success text-dark" role="progressbar" style="width: 10%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">总结回顾</div>
    </div>


   
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="js/jquery.js" ></script>
    <script src="js/popper.js" ></script>
    <script src="js/bootstrap/dist/js/bootstrap.js" ></script>
    <script src="js/script.js"></script>
    <script>
      var totalItems = $('.carousel-item').length/2;
      var currentIndex = $('div.active').index() + 1;
      writeData();
      $('#carouselMain').on('slid.bs.carousel', function() {
        currentIndex = $('div.active').index() + 1;
        console.log("currentIndex: " + currentIndex + " totalItems: " + totalItems);
        $('.num').html(''+currentIndex+'/'+totalItems+'');
        $('#carouselNextSlide').carousel(currentIndex);

        writeData();
      });


      function writeData(){

          $.ajax({
              type: 'POST',
              url: './apis/writeData.api.php',
              data: {
                currentPage:currentIndex,
                somethingElse:"nothing"
              },
              success: function(data){
                console.log("success! "+currentIndex);
                console.log(data);

              }
          });

      }
    </script>
  </body>
</html>